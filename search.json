[{"path":"https://mskcc-epi-bio.github.io/SvyNom/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mithat Gonen. Author, maintainer. Marinela Capanu. Author.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Marinela Capanu, Mithat Gonen (2015). Building Nomogram Survey-Weighted Cox Models Using R. Journal Statistical Software, Code Snippets, 64(1), 1-17. URL https://www.jstatsoft.org/v64/c01/.","code":"@Article{,   title = {Building a Nomogram for Survey-Weighted {C}ox Models Using {R}},   author = {Marinela Capanu and Mithat G{\\\"o}nen},   journal = {Journal of Statistical Software, Code Snippets},   year = {2015},   volume = {64},   number = {1},   pages = {1--17},   url = {https://www.jstatsoft.org/v64/c01/}, }"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/index.html","id":"svynom","dir":"","previous_headings":"","what":"Nomograms for Right-Censored Outcomes from Survey Designs","title":"Nomograms for Right-Censored Outcomes from Survey Designs","text":"purpose {SvyNom} package build, evaluate validate nomogram survey data right-censored outcomes.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Nomograms for Right-Censored Outcomes from Survey Designs","text":"can install {SvyNom} following code. Install development version {SvyNom} :","code":"install.packages(\"SvyNom\") remotes::install_github(\"MSKCC-Epi-Bio/SvyNom\")"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/SvyNom-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Nomograms for right-censored outcomes with complex survey data — SvyNom-package","title":"Nomograms for right-censored outcomes with complex survey data — SvyNom-package","text":"Builds, evaluates validates nomogram survey data right-censored outcomes.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/SvyNom-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Nomograms for right-censored outcomes with complex survey data — SvyNom-package","text":"three functions user svycox.nomogram, svycox.validate, svycox.calibrate","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/SvyNom-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Nomograms for right-censored outcomes with complex survey data — SvyNom-package","text":"Marinela Capanu Mithat Gonen  Maintainer: gonenm@mskcc.org","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/SvyNom-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nomograms for right-censored outcomes with complex survey data — SvyNom-package","text":"Marinela Capanu, Mithat Gonen (2015). Building Nomogram Survey-Weighted Cox Models Using R.  Journal Statistical Software, Code Snippets, 64(1), 1-17. URL https://www.jstatsoft.org/v64/c01/.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/noNA.html","id":null,"dir":"Reference","previous_headings":"","what":"Gastric cancer case-control study — noNA","title":"Gastric cancer case-control study — noNA","text":"Example dataset SvyNom package.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/noNA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gastric cancer case-control study — noNA","text":"","code":"data(noNA)"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/noNA.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Gastric cancer case-control study — noNA","text":"Mithat Gonen, Marinela Capanu","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/noNA.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gastric cancer case-control study — noNA","text":"","code":"data(noNA)"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.calibrate.html","id":null,"dir":"Reference","previous_headings":"","what":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","title":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","text":"Checks calibration nomogram survey-weighted   Cox model.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.calibrate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","text":"","code":"svycox.calibrate(.nom, .timept = .nom$pred.at, .ngroup = 5)"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.calibrate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","text":".nom nomogram object svycox.nomogram .timept time point calibration take \tplace; defaults time value prediction axis \tnomogram .ngroup number groups formed validation \tpurposes","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.calibrate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","text":"returns matrix calibration values plots ","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.calibrate.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","text":"Mithat Gonen, Marinela Capanu","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.calibrate.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","text":"Marinela Capanu, Mithat Gonen (2015). Building Nomogram Survey-Weighted Cox Models Using R.  Journal Statistical Software, Code Snippets, 64(1), 1-17. URL https://www.jstatsoft.org/v64/c01/.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.calibrate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Checking the  calibration of a nomogram for a survey-weighted Cox\n  model — svycox.calibrate","text":"","code":"library(survey) #> Loading required package: grid #> Loading required package: Matrix #> Loading required package: survival #>  #> Attaching package: ‘survey’ #> The following object is masked from ‘package:graphics’: #>  #>     dotchart library(rms) #> Loading required package: Hmisc #> Loading required package: lattice #> Loading required package: Formula #> Loading required package: ggplot2 #>  #> Attaching package: ‘Hmisc’ #> The following object is masked from ‘package:survey’: #>  #>     deff #> The following objects are masked from ‘package:base’: #>  #>     format.pval, units #> Loading required package: SparseM #>  #> Attaching package: ‘SparseM’ #> The following object is masked from ‘package:base’: #>  #>     backsolve #>  #> Attaching package: ‘rms’ #> The following object is masked from ‘package:survey’: #>  #>     calibrate data(noNA) dd=datadist(noNA) options(datadist=\"dd\")  dstr2=svydesign(id=~1, strata=~group, prob=~inv_weight, fpc=~ssize, data=noNA)  mynom=svycox.nomogram(.design=dstr2, .model=Surv(survival,surv_cens)~ECOG+liver_only+Alb+Hb+Age+ Differentiation+Gt_1_m1site+lymph_only, .data=noNA, pred.at=24, fun.lab=\"Prob of 2 Yr OS\") #> Error in Design(X, formula = formula): dataset dd not found for options(datadist=)  svycox.calibrate(mynom) #> Error in which(.nom$preds[[1]]$time <= .timept): object 'mynom' not found"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":null,"dir":"Reference","previous_headings":"","what":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":"Builds nomogram survey-weighted Cox model.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":"","code":"svycox.nomogram(.design, .model, .data, pred.at, fun.lab)"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":".design represents survey design object obtained package \"survey\" .model indicates Cox model specification .data contains data model fit (can contain NAs) pred.specifies time point nomogram prediction axis drawn fun.lab designate label prediction axis","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":"addition inputs, function expects following:       1) input dataset (.data) contain NAs. can accomplish using  na.omit function. See example.       2) datadist must set. See examples documentation rms package.      3) survey design must saved .design      requirements explained Capanu & Gonen (2015) detail","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":"list including elements nomog nomogram object preds predicted values model addition listed , design fitted survey weighted Cox model (svy.cox),  well timepoint nomogram prediction axis drawn (pred.) stored","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":"Marinela Capanu, Mithat Gonen (2015). Building Nomogram Survey-Weighted Cox Models Using R.  Journal Statistical Software, Code Snippets, 64(1), 1-17. URL https://www.jstatsoft.org/v64/c01/.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":"Mithat Gonen, Marinela Capanu","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.nomogram.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Builds a nomogram for a survey-weighted Cox model — svycox.nomogram","text":"","code":"library(survey) library(rms) data(noNA) dd=datadist(noNA) options(datadist=\"dd\") dstr2=svydesign(id=~1, strata=~group, prob=~inv_weight, fpc=~ssize, data=noNA) mynom=svycox.nomogram(.design=dstr2, .model=Surv(survival,surv_cens)~ECOG+liver_only+Alb+Hb+Age+ Differentiation+Gt_1_m1site+lymph_only, .data=noNA, pred.at=24, fun.lab=\"Prob of 2 Yr OS\") #> Error in Design(X, formula = formula): dataset dd not found for options(datadist=) plot(mynom$nomog) #> Error in plot(mynom$nomog): object 'mynom' not found"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.validate.html","id":null,"dir":"Reference","previous_headings":"","what":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","title":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","text":"Validates nomogram survey-weighted Cox model using bootstrap.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.validate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","text":"","code":"svycox.validate(.boot.index, .nom, .data)"},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.validate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","text":".boot.index matrix bootstrap sample indicators number rows number rows  data nomogram created number columns number  bootstrap samples .nom nomogram object returned svycox.nomogram .data contains dataset validation take place","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.validate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","text":"Note generating bootstrap sample design dependent part function.  user generate bootstrap samples consistent   design used. example  bootstrap sample generated dataset presented reference .","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.validate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","text":"prints estimated optimism returns vector optimism values bootstrap sample  can used summarize validation measure choice","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.validate.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","text":"Marinela Capanu, Mithat Gonen (2015). Building Nomogram Survey-Weighted Cox Models Using R.  Journal Statistical Software, Code Snippets, 64(1), 1-17. URL https://www.jstatsoft.org/v64/c01/.","code":""},{"path":"https://mskcc-epi-bio.github.io/SvyNom/reference/svycox.validate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validating a nomogram for a survey-weighted Cox model — svycox.validate","text":"","code":"bootit=200 library(survey) library(rms) data(noNA) dd=datadist(noNA) options(datadist=\"dd\") dstr2=svydesign(id=~1, strata=~group, prob=~inv_weight, fpc=~ssize, data=noNA) mynom=svycox.nomogram(.design=dstr2, .model=Surv(survival,surv_cens)~ECOG+liver_only+Alb+Hb+Age+ Differentiation+Gt_1_m1site+lymph_only, .data=noNA, pred.at=24, fun.lab=\"Prob of 2 Yr OS\") #> Error in Design(X, formula = formula): dataset dd not found for options(datadist=)  cases=which(noNA$group==\"long\") controls=which(noNA$group==\"<24\") boot.index=matrix(NA,nrow(noNA),bootit) for(i in 1:bootit){ boot.index[,i]=c(sample(cases,replace=TRUE),sample(controls,replace=TRUE)) } myval=svycox.validate(boot.index,mynom,noNA)   #> Error in paste(\"~\", names(.nom2$design$prob)): object 'mynom' not found"}]
